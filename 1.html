<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>溜小丫头</title>
		<style type="text/css">
			body{
				height: 5000px;
			}
			#img{
				color: red;
				text-align: center;
				line-height: 60px;
				position: absolute;
				width: 100px;
				height: 100px;
				border-radius: 50%;
				background: rgba(200,200,200,0.5);
			}
		</style>
	</head>
	<body>
		<div id="img"><p>小丫头</p></div>
		<script type="text/javascript">
			var img = document.getElementById("img");
			var timer = null;
			var targetx = 0;var targety = 0;
        	var leaderx = 0;var leadery = 0;
			document.onmousemove = function(event){
				event = event || window.event;
				var pagey = event.pageY||scroll().top + event.clientY;
				var pagex = event.pageX || scroll().left + event.clientX;
				targety = pagey-img.offsetHeight/2;
				targetx = pagex-img.offsetWidth/2;
				clearInterval(timer);
				timer = setInterval(function(){
					leaderx = img.offsetLeft;
					var stepx = (targetx - leaderx)/10;
					stepx = stepx>0?Math.ceil(stepx):Math.floor(stepx);
					leaderx = leaderx + stepx;
					img.style.left = leaderx + "px";

					 //为盒子的位置获取值
                leadery = img.offsetTop;
                //获取步长
                var stepy = (targety-leadery)/10;
                //二次处理步长
                stepy = stepy>0?Math.ceil(stepy):Math.floor(stepy);
                leadery = leadery + stepy;
                //赋值
                img.style.top = leadery + "px";
                //清定时器
				if(Math.abs(targety-img.offsetTop)<=Math.abs(stepy) && Math.abs(targetx-img.offsetLeft)<=Math.abs(stepx)){
                      img.style.top = targety + "px";
                      img.style.left = targetx + "px";
                      clearInterval(timer);
                  }
				},10);
			}

		</script>
	</body>
</html>
